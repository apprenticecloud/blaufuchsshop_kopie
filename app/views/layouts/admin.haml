!!!
%html{:lang => "de"}
  %head
    %meta{:charset => "utf-8"}/
    %title Blaufuchs Verlag | Admin
    %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}/
    %meta{:content => "text/html; charset=utf-8", "http-equiv" => "Content-type"}/
    %meta{:content => "websites einfach smart", :name => "author"}/

    = csrf_meta_tags

    / BEGIN GLOBAL MANDATORY STYLES
    %link{:href => "//fonts.go!!!
%html{:lang => "de"}
  %head
    %meta{:charset => "utf-8"}/
    %title Blaufuchs Verlag | Admin
    %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}/
    %meta{:content => "text/html; charset=utf-8", "http-equiv" => "Content-type"}/
    %meta{:content => "websites einfach smart", :name => "author"}/

    = csrf_meta_tags

    / BEGIN GLOBAL MANDATORY STYLES
    %link{:href => "//fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "/assets/global/plugins/font-awesome/css/font-awesome.min.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "/assets/global/plugins/simple-line-icons/simple-line-icons.min.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "/assets/global/plugins/bootstrap/css/bootstrap.min.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "/assets/global/plugins/uniform/css/uniform.default.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "/assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css", :rel => "stylesheet", :type => "text/css"}/
    / END GLOBAL MANDATORY STYLES
    = yield :page_styles
    / BEGIN THEME STYLES
    %link#style_components{:href => "/assets/global/css/components-md.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "/assets/global/css/plugins-md.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "/assets/admin/layout2/css/layout.css", :rel => "stylesheet", :type => "text/css"}/
    %link#style_color{:href => "/assets/admin/layout2/css/themes/dark.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "/assets/admin/layout2/css/custom.css", :rel => "stylesheet", :type => "text/css"}/
    / END THEME STYLES
    -# %link{:href => "favicon.ico", :rel => "shortcut icon"}/

  / END HEAD
  %body.page-md.page-header-fixed.page-sidebar-closed-hide-logo.page-container-bg-solid

    / BEGIN HEADER
    .page-header.md-shadow-z-1-i.navbar.navbar-fixed-top
      .page-header-inner
        .page-logo
          %a{:href => "/admin"}
            %h2.logo-default(style='font-size:25px; color: white; margin: 20px 0 10px 0;') Blaufuchs
          .menu-toggler.sidebar-toggler
        %a.menu-toggler.responsive-toggler{"data-target" => ".navbar-collapse", "data-toggle" => "collapse", :href => "javascript:;"}
        .page-top
          .top-menu
            %ul.nav.navbar-nav.pull-right
              %li.dropdown.dropdown-user
                %a.dropdown-toggle{"data-close-others" => "true", "data-hover" => "dropdown", "data-toggle" => "dropdown", :href => "javascript:;"}
                  %span.username.username-hide-on-mobile
                    #{current_user.name}, #{current_user.role}
                  %i.fa.fa-angle-down
                %ul.dropdown-menu.dropdown-menu-default
                  %li
                    = link_to [:admin, :users] do
                      %i.icon-user
                      Benutzer
                  %li.divider
                  %li
                    = link_to [:destroy, :user, :session], method: :delete do
                      %i.icon-key
                      Log Out
    .clearfix

    .page-container
      .page-sidebar-wrapper
        .page-sidebar.navbar-collapse.collapse
          %ul.page-sidebar-menu{"data-auto-scroll" => "true", "data-keep-expanded" => "false", "data-slide-speed" => "200"}
            %li.start
              %a{:href => "/admin"}
                %i.icon-home
                %span.title Dashboard
            %li
              %a{:href => "/admin/orders"}
                %i.icon-basket
                %span.title Bestellungen
            - if current_user.role == 'admin'
              %li
                %a{:href => "/admin/customers"}
                  %i.icon-user
                  %span.title Kunden
              %li
                %a{:href => "/admin/products"}
                  %i.icon-handbag
                  %span.title Produkte
              %li
                %a{:href => "/admin/schools"}
                  %i.icon-pointer
                  %span.title Schulen

      .page-content-wrapper
        .page-content
          = yield

    .page-footer
      .page-footer-inner
        2015 Â© Blaufuchs Verlag. Made by websites einfach smart.
      .scroll-to-top
        %i.icon-arrow-up

    - if yield(:modals).presence
      = yield :modals

    = javascript_include_tag 'application'
    / IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip
    %script{:src => "/assets/global/plugins/jquery-ui/jquery-ui.min.js", :type => "text/javascript"}
    %script{:src => "/assets/global/plugins/bootstrap/js/bootstrap.min.js", :type => "text/javascript"}
    %script{:src => "/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js", :type => "text/javascript"}
    %script{:src => "/assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js", :type => "text/javascript"}
    %script{:src => "/assets/global/plugins/jquery.blockui.min.js", :type => "text/javascript"}
    %script{:src => "/assets/global/plugins/jquery.cokie.min.js", :type => "text/javascript"}
    %script{:src => "/assets/global/plugins/uniform/jquery.uniform.min.js", :type => "text/javascript"}
    %script{:src => "/assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js", :type => "text/javascript"}
    / END CORE PLUGINS
    %script{:src => "/assets/global/plugins/bootstrap-growl/jquery.bootstrap-growl.min.js", :type => "text/javascript"}

    = yield :page_plugins
    %script{:src => "/assets/global/scripts/metronic.js", :type => "text/javascript"}
    %script{:src => "/assets/admin/layout2/scripts/layout.js", :type => "text/javascript"}

    - if yield(:scripts).presence
      = yield :scripts
    - else
      :javascript
        jQuery(document).ready(function() {
          Metronic.init(); // init metronic core components
          Layout.init(); // init current layout
        });
    - if !flash.empty?
      - flash.each do |name, msg|
        :javascript
          $(function() {
            $.bootstrapGrowl("#{msg}", {
                type: "#{name == 'notice' ? 'success' : 'danger'}"
            });
            });

    :coffee
      # Floating labels
      handleInput = (el) ->
        if el.val() != ''
          el.addClass 'edited'
        else
          el.removeClass 'edited'
      $('body .form-md-floating-label .form-control').each (e) ->
        handleInput $(this)
